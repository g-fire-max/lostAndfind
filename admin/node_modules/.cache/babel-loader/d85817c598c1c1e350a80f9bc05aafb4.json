{"remainingRequest":"E:\\lostAndfind\\admin\\node_modules\\babel-loader\\lib\\index.js!E:\\lostAndfind\\admin\\src\\http.js","dependencies":[{"path":"E:\\lostAndfind\\admin\\src\\http.js","mtime":1587488020665},{"path":"E:\\lostAndfind\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\lostAndfind\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcic7CnZhciBodHRwID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FkbWluL2FwaScKfSk7Cmh0dHAuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBpZiAobG9jYWxTdG9yYWdlLnRva2VuKSB7CiAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gJ0JlYXJlciAnICsgbG9jYWxTdG9yYWdlLnRva2VuOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7IC8v5YWo5bGA5ZON5bqU5oum5oiqCgpodHRwLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlcykgewogIHJldHVybiByZXM7Cn0sIGZ1bmN0aW9uIChlcnIpIHsKICBjb25zb2xlLmxvZyhlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsgLy/lh7rplJnml7YKCiAgaWYgKGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2UpIHsKICAgIFZ1ZS5wcm90b3R5cGUuJG1lc3NhZ2UoewogICAgICB0eXBlOiAnZXJyb3InLAogICAgICBtZXNzYWdlOiBlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlCiAgICB9KTsKCiAgICBpZiAoZXJyLnJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxKSB7CiAgICAgIHJvdXRlci5wdXNoKCcvbG9naW4nKTsKICAgIH0KICB9CgogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpOwp9KTsKZXhwb3J0IGRlZmF1bHQgaHR0cDs="},{"version":3,"sources":["E:/lostAndfind/admin/src/http.js"],"names":["axios","Vue","router","http","create","baseURL","interceptors","request","use","config","localStorage","token","headers","Authorization","error","Promise","reject","response","res","err","console","log","data","message","prototype","$message","type","status","push"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAEA,IAAMC,IAAI,GAAGH,KAAK,CAACI,MAAN,CAAa;AACtBC,EAAAA,OAAO,EAAC;AADc,CAAb,CAAb;AAIAF,IAAI,CAACG,YAAL,CAAkBC,OAAlB,CAA0BC,GAA1B,CAA8B,UAAUC,MAAV,EAAkB;AAC5C,MAAGC,YAAY,CAACC,KAAhB,EAAsB;AAClBF,IAAAA,MAAM,CAACG,OAAP,CAAeC,aAAf,GAA8B,YAAYH,YAAY,CAACC,KAAvD;AACH;;AAED,SAAOF,MAAP;AACH,CAND,EAMG,UAAUK,KAAV,EAAiB;AAChB,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AACH,CARD,E,CAUA;;AACAX,IAAI,CAACG,YAAL,CAAkBW,QAAlB,CAA2BT,GAA3B,CAA+B,UAAAU,GAAG,EAAI;AAClC,SAAOA,GAAP;AACH,CAFD,EAEG,UAAAC,GAAG,EAAI;AACNC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACF,QAAJ,CAAaK,IAAb,CAAkBC,OAA9B,EADM,CAEN;;AACA,MAAGJ,GAAG,CAACF,QAAJ,CAAaK,IAAb,CAAkBC,OAArB,EAA6B;AACzBtB,IAAAA,GAAG,CAACuB,SAAJ,CAAcC,QAAd,CAAuB;AACnBC,MAAAA,IAAI,EAAC,OADc;AAEnBH,MAAAA,OAAO,EAACJ,GAAG,CAACF,QAAJ,CAAaK,IAAb,CAAkBC;AAFP,KAAvB;;AAKA,QAAGJ,GAAG,CAACF,QAAJ,CAAaU,MAAb,KAAwB,GAA3B,EAAgC;AAC5BzB,MAAAA,MAAM,CAAC0B,IAAP,CAAY,QAAZ;AACH;AACJ;;AAED,SAAOb,OAAO,CAACC,MAAR,CAAeG,GAAf,CAAP;AACH,CAjBD;AAqBA,eAAehB,IAAf","sourcesContent":["import axios from 'axios'\r\nimport Vue from 'vue'\r\nimport router from './router' \r\n\r\nconst http = axios.create({\r\n    baseURL:'http://localhost:3000/admin/api'\r\n})\r\n\r\nhttp.interceptors.request.use(function (config) {\r\n    if(localStorage.token){\r\n        config.headers.Authorization ='Bearer ' + localStorage.token\r\n    }\r\n    \r\n    return config;\r\n}, function (error) {\r\n    return Promise.reject(error)\r\n});\r\n\r\n//全局响应拦截\r\nhttp.interceptors.response.use(res => {\r\n    return res\r\n}, err => {\r\n    console.log(err.response.data.message)\r\n    //出错时\r\n    if(err.response.data.message){\r\n        Vue.prototype.$message({\r\n            type:'error',\r\n            message:err.response.data.message\r\n        })\r\n\r\n        if(err.response.status === 401) {\r\n            router.push('/login')\r\n        }\r\n    }\r\n\r\n    return Promise.reject(err)\r\n} )\r\n\r\n\r\n\r\nexport default http"]}]}